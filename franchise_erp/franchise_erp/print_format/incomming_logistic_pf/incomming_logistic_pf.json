{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-22 11:16:12.982204",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Incoming Logistics",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!-- JINJA: FETCH DATA -->\n{% set trans_primary = frappe.db.get_value(\"Supplier\", doc.transporter, \"supplier_primary_address\") %}\n{% if trans_primary %}\n    {% set trans_addr = frappe.db.get_value(\"Address\", trans_primary, \"*\", as_dict=1) %}\n{% else %}\n    {% set trans_addr = frappe.db.get_value(\"Address\", {\"address_title\": doc.transporter}, \"*\", as_dict=1) %}\n{% endif %}\n\n{% set cons_primary = frappe.db.get_value(\"Supplier\", doc.consignor, \"supplier_primary_address\") %}\n{% if cons_primary %}\n    {% set cons_addr = frappe.db.get_value(\"Address\", cons_primary, \"*\", as_dict=1) %}\n{% else %}\n    {% set cons_addr = frappe.db.get_value(\"Address\", filters=[[\"Dynamic Link\", \"link_doctype\", \"=\", \"Supplier\"], [\"Dynamic Link\", \"link_name\", \"=\", doc.consignor]], fieldname=\"*\", as_dict=1) %}\n{% endif %}\n\n{% set comp_addr = frappe.db.get_value(\"Address\", {\"address_title\": doc.owner_site}, \"*\", as_dict=1) %}\n\n<style>\n    html, body { \n        font-family: \"Arial\", sans-serif; \n        font-size: 10px; \n        color: #000; \n        line-height: 1.2; \n        margin: 0; padding: 0; \n    }\n    \n    .compact-table td {\n        padding-top: 1px !important;\n        padding-bottom: 1px !important;\n        line-height: 1.2 !important;\n        vertical-align: top;\n    }\n    \n    /* RESET TABLES */\n    table { width: 100%; border-collapse: collapse; border-spacing: 0; }\n    td { vertical-align: top; padding: 2px 4px; }\n    \n    /* UTILS */\n    .bold { font-weight: bold; }\n    .text-right { text-align: right; }\n    .text-center { text-align: center; }\n    .uppercase { text-transform: uppercase; }\n    \n    /* BORDERS */\n    .main-table { border-top: 1px solid #000; border-bottom: 1px solid #000; }\n    .row-separator { border-bottom: 1px solid #000; } \n    .v-line { border-right: 1px solid #000; } \n    \n    .thick-y { border-top: 2px solid #000; border-bottom: 2px solid #000; }\n    .thin-b { border-bottom: 1px solid #000; }\n    \n    /* LABELS CONFIGURATION */\n    /* Isse Colon ek sidhi line me aayega */\n    .lbl-fixed { \n        font-weight: bold; \n        width: 115px; /* Fixed width for Labels */\n        /*white-space: nowrap; */\n    }\n    \n    /* FOOTER FIX */\n    .footer-table { \n        position: fixed; bottom: 0; left: 0; width: 100%; \n        border-top: 1px solid #000; background: white;\n    }\n</style>\n\n<!-- 1. HEADER SECTION -->\n<table style=\"margin-bottom: 5px; width: 100%;\">\n    <tr>\n        <td width=\"55%\" style=\"vertical-align: top; padding-right: 10px;\">\n            <span style=\"font-size: 14px; font-weight: bold; display: block; margin-bottom: 2px;\">\n                {{ doc.owner_site or doc.company }}\n            </span>\n            <span style=\"font-size: 10px; line-height: 1.3;\">\n                {% if comp_addr %}\n                    {{ comp_addr.address_line1 }}<br>\n                    {% if comp_addr.city %}{{ comp_addr.city }}{% endif %}\n                    {% if comp_addr.pincode %} - {{ comp_addr.pincode }}{% endif %}\n                {% else %}\n                    Address Not Found\n                {% endif %}\n            </span>\n            <br>\n            <span style=\"font-size: 10px;\">{{ doc.company_phone or \"\" }}</span>\n        </td>\n\n        <td width=\"45%\" align=\"right\" style=\"vertical-align: top;\">\n            <table style=\"width: 100%;\">\n                <tr><td align=\"right\" style=\"font-weight: bold; font-size: 12px; padding: 0;\">LR</td></tr>\n            </table>\n            <table style=\"width: 100%; height: 25px;\"><tr><td>&nbsp;</td></tr></table>\n            <table style=\"width: auto; float: right; border-collapse: collapse;\">\n                <tr>\n                    <td class=\"bold text-right\" style=\"white-space: nowrap; padding: 1px 5px;\">Logistic Entry No. :</td>\n                    <td class=\"bold text-right\" style=\"white-space: nowrap; padding: 1px;\">{{ doc.entry_no or doc.name }}</td>\n                </tr>\n                <tr>\n                    <td class=\"bold text-right\" style=\"white-space: nowrap; padding: 1px 5px;\">Logistic Entry Date :</td>\n                    <td class=\"bold text-right\" style=\"white-space: nowrap; padding: 1px;\">{{ doc.get_formatted(\"date\") }}</td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n\n<table class=\"main-table\">\n    \n    <!-- ROW A: TRANSPORTER & CONSIGNOR -->\n    <tr class=\"row-separator\">\n        <td width=\"40%\" class=\"v-line\" style=\"padding: 3px;\">\n            <table class=\"compact-table\">\n                <tr><td class=\"lbl-fixed\">Transporter</td><td>: <span class=\"uppercase\">{{ doc.transporter or \"\" }}</span></td></tr>\n                <tr><td class=\"lbl-fixed\">Transporter Address</td><td>: {{ trans_addr.address_line1 if trans_addr else \"\" }}</td></tr>\n                <tr><td class=\"lbl-fixed\">Transporter GSTIN</td><td>: {{ trans_addr.gstin or trans_addr.tax_id if trans_addr else \"\" }}</td></tr>\n                <tr><td class=\"lbl-fixed\">Transporter State</td><td>: {{ trans_addr.state if trans_addr else \"\" }}</td></tr>\n            </table>\n        </td>\n        <td width=\"60%\" style=\"padding: 3px;\">\n            <table class=\"compact-table\">\n                <tr><td class=\"lbl-fixed\">Consignor</td><td>: <span class=\"uppercase\">{{ doc.consignor or \"\" }}</span></td></tr>\n                <tr><td class=\"lbl-fixed\">Consignor Address</td><td>: {{ cons_addr.address_line1 if cons_addr else \"\" }}</td></tr>\n                <tr><td class=\"lbl-fixed\">Consignor GSTIN</td><td>: {{ cons_addr.gstin or cons_addr.tax_id if cons_addr else \"\" }}</td></tr>\n                <tr><td class=\"lbl-fixed\">Consignor State</td><td>: {{ cons_addr.state if cons_addr else \"\" }}</td></tr>\n            </table>\n        </td>\n    </tr>\n\n    <!-- ROW B: DETAILS SECTION (Merged into one big row for alignment) -->\n    <tr>\n        <!-- LEFT COLUMN: LR, Stations, Mode -->\n        <td width=\"50%\" class=\"v-line\" style=\"padding: 3px;\">\n            <table class=\"compact-table\" width=\"100%\">\n                <!-- LR Doc No & Date -->\n                <tr>\n                    <td class=\"lbl-fixed\">LR Doc No.</td>\n                    <td>: {{ doc.lr_document_no or \"\" }}</td>\n                    <td align=\"right\" style=\"white-space: nowrap;\"><b>Date :</b> {{ doc.get_formatted(\"lr_date\") if doc.lr_date else doc.get_formatted(\"date\") }}</td>\n                </tr>\n                <!-- Station From -->\n                <tr>\n                    <td class=\"lbl-fixed\">Station From</td>\n                    <td colspan=\"2\">: <span class=\"uppercase\">{{ doc.station_from or \"\" }}</span></td>\n                </tr>\n                <!-- Station To -->\n                <tr>\n                    <td class=\"lbl-fixed\">Station To</td>\n                    <td colspan=\"2\">: <span class=\"uppercase\">{{ doc.station_to or \"\" }}</span></td>\n                </tr>\n                <!-- Mode & Vehicle -->\n                <tr>\n                    <td class=\"lbl-fixed\">Mode of Transport</td>\n                    <td>: {{ doc.mode or \"\" }}</td>\n                    <td align=\"right\" style=\"white-space: nowrap;\"><b>Vehicle No. :</b> {{ doc.vehicle_no or \"\" }}</td>\n                </tr>\n                <!-- Declaration -->\n                <tr>\n                    <td class=\"lbl-fixed\">Declaration Amt.</td>\n                    <td colspan=\"2\">: {{ doc.get_formatted(\"declaration_amount\") if doc.declaration_amount else \"\" }}</td>\n                </tr>\n            </table>\n        </td>\n\n        <!-- RIGHT COLUMN: Invoice, Qty, To Pay -->\n        <td width=\"50%\" style=\"padding: 3px;\">\n            <table class=\"compact-table\" width=\"100%\">\n                <!-- Invoice No & Date -->\n                <tr>\n                    <td class=\"lbl-fixed\">Invoice No.</td>\n                    <td>: {{ doc.invoice_no or \"\" }}</td>\n                    <td align=\"right\" style=\"white-space: nowrap;\"><b>Date :</b> {{ doc.get_formatted(\"invoice_date\") if doc.invoice_date else \"\" }}</td>\n                </tr>\n                <!-- Logistic Type -->\n                <tr>\n                    <td class=\"lbl-fixed\">Logistic Type</td>\n                    <td colspan=\"2\">: {{ doc.type or \"\" }}</td>\n                </tr>\n                <!-- Qty & Pending -->\n                <tr>\n                    <td class=\"lbl-fixed\">Logistic Qty.</td>\n                    <td>: {{ \"{:,.3f}\".format(doc.lr_quantity|flt) if doc.lr_quantity else \"0.000\" }}</td>\n                    <td align=\"right\" style=\"white-space: nowrap;\"><b>Pend. Lgst. Qty. :</b> {{ \"{:,.3f}\".format(doc.pending_qty|flt) if doc.pending_qty else \"0.000\" }}</td>\n                </tr>\n                <!-- To Pay -->\n                <tr>\n                    <td class=\"lbl-fixed\">To Pay</td>\n                    <td colspan=\"2\">: {{ \"Yes\" if doc.to_pay else \"No\" }}</td>\n                </tr>\n                <!-- Empty Row to match height if needed -->\n                <tr>\n                    <td colspan=\"3\">&nbsp;</td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n</table>\n\n<!-- 3. CHARGES TABLE -->\n<table style=\"margin-top: 15px;\">\n    <tr class=\"bold thick-y\" style=\"background-color: #f0f0f0;\">\n        <td width=\"15%\">Actual Weight</td>\n        <td width=\"15%\" class=\"text-center\">Charged Weight</td>\n        <td width=\"10%\" class=\"text-center\">Rate</td>\n        <td width=\"20%\" class=\"text-right\">Freight</td>\n        <td width=\"20%\" class=\"text-right\">Others</td>\n        <td width=\"20%\" class=\"text-right\">Total Freight</td>\n    </tr>\n    <tr class=\"thin-b\">\n        <td>{{ \"{:,.2f}\".format(doc.actual_weight|flt) if doc.actual_weight else \"\" }}</td>\n        <td class=\"text-center\">{{ \"{:,.2f}\".format(doc.charged_weight|flt) if doc.charged_weight else \"\" }}</td>\n        <td class=\"text-center\">{{ \"{:,.2f}\".format(doc.rate|flt) if doc.rate else \"\" }}</td>\n        <td class=\"text-right\">{{ doc.get_formatted(\"freight\") if doc.freight else \"\" }}</td>\n        <td class=\"text-right\">{{ doc.get_formatted(\"others\") if doc.others else \"\" }}</td>\n        <td class=\"text-right bold\">{{ doc.get_formatted(\"total_amount\") if doc.total_amount else \"\" }}</td>\n    </tr>\n</table>\n\n<!-- 4. GATE ENTRY DETAILS -->\n<!--<table style=\"margin-top: 15px;\">-->\n<!--    <tr>-->\n<!--        <td style=\"background-color: #e0e0e0; font-weight: bold; width: 450px; border: 1px solid #fff;\">Gate Entry Details</td>-->\n<!--        <td></td>-->\n<!--    </tr>-->\n<!--</table>-->\n\n<!--<table style=\"margin-top: 2px;\">-->\n<!--    <tr class=\"bold thick-y\" style=\"background-color: #f0f0f0;\">-->\n<!--        <td>Gate Entry No.</td>-->\n<!--        <td>Gate Entry Date</td>-->\n<!--        <td>Document No.</td>-->\n<!--        <td>Document Date</td>-->\n<!--        <td class=\"text-right\">Gate In Qty.</td>-->\n<!--        <td class=\"text-right\">Receive Qty.</td>-->\n<!--    </tr>-->\n<!--    <tr>-->\n<!--        <td>{{ doc.gate_entry_no or \"\" }}</td>-->\n<!--        <td>-->\n<!--             {% if doc.gate_entry_date %}-->\n<!--                {{ doc.get_formatted(\"gate_entry_date\") }}-->\n<!--            {% endif %}-->\n<!--        </td>-->\n<!--        <td>{{ doc.lr_document_no or \"\" }}</td>-->\n<!--        <td>{{ doc.get_formatted(\"lr_date\") if doc.lr_date else \"\" }}</td>-->\n<!--        <td class=\"text-right\">{{ \"{:,.3f}\".format(doc.lr_quantity|flt) if doc.lr_quantity else \"\" }}</td>-->\n<!--        <td class=\"text-right\">{{ \"{:,.3f}\".format(doc.received_qty|flt) if doc.received_qty else \"\" }}</td>-->\n<!--    </tr>-->\n<!--    <tr class=\"bold thin-b\" style=\"border-top: 1px solid #ccc; background-color: #f0f0f0;\">-->\n<!--        <td colspan=\"4\" class=\"text-right\">Total :</td>-->\n<!--        <td class=\"text-right\">{{ \"{:,.3f}\".format(doc.lr_quantity|flt) if doc.lr_quantity else \"0.000\" }}</td>-->\n<!--        <td class=\"text-right\">{{ \"{:,.3f}\".format(doc.received_qty|flt) if doc.received_qty else \"0.000\" }}</td>-->\n<!--    </tr>-->\n<!--</table>-->\n\n\n<!-- 4. GATE ENTRY DETAILS -->\n\n{% set gate_entries = frappe.get_all(\n    \"Gate Entry\",\n    filters={\"incoming_logistics\": doc.name},\n    fields=[\"name\", \"document_date\", \"document_no\"]\n) %}\n\n<table style=\"margin-top: 15px;\">\n    <tr>\n        <td style=\"background-color: #e0e0e0; font-weight: bold; width: 450px;\">\n            Gate Entry Details\n        </td>\n        <td></td>\n    </tr>\n</table>\n\n<table style=\"margin-top: 2px;\">\n    <tr class=\"bold thick-y\" style=\"background-color: #f0f0f0;\">\n        <td>Gate Entry No.</td>\n        <td>Gate Entry Date</td>\n        <td>Document No.</td>\n        <td>Document Date</td>\n        <td class=\"text-right\">Gate In Qty.</td>\n        <td class=\"text-right\">Receive Qty.</td>\n    </tr>\n\n    {% set total_gate_qty = 0 %}\n    {% set total_recv_qty = 0 %}\n\n    {% for ge in gate_entries %}\n        {% set ge_doc = frappe.get_doc(\"Gate Entry\", ge.name) %}\n\n        {% for rd in ge_doc.received_details %}\n            <tr>\n                <td>{{ ge.name }}</td>\n                <td>{{ frappe.utils.formatdate(ge.document_date, \"dd-MM-yyyy\") }}</td>\n                <td>{{ rd.document_no }}</td>\n                <td>{{ frappe.utils.formatdate(rd.document_date, \"dd-MM-yyyy\") if rd.document_date else \"\" }}</td>\n\n                <td class=\"text-right\">\n                    {{ \"{:,.3f}\".format(doc.lr_quantity|flt) }}\n                </td>\n\n                <td class=\"text-right\">\n                    {{ \"{:,.3f}\".format(doc.lr_quantity|flt) }}\n                </td>\n            </tr>\n\n            {% set total_gate_qty = total_gate_qty + (doc.lr_quantity|flt or 0) %}\n            {% set total_recv_qty = total_recv_qty + (doc.lr_quantity|flt or 0) %}\n\n        {% endfor %}\n    {% endfor %}\n\n    <tr class=\"bold thin-b\" style=\"background-color: #f0f0f0;\">\n        <td colspan=\"4\" class=\"text-right\">Total :</td>\n        <td class=\"text-right\">{{ \"{:,.3f}\".format(total_gate_qty) }}</td>\n        <td class=\"text-right\">{{ \"{:,.3f}\".format(total_recv_qty) }}</td>\n    </tr>\n</table>\n\n<!-- 5. SIGNATURES -->\n<br>\n<table width=\"100%\" style=\"margin-top: 5px;\">\n    <tr>\n        <td align=\"right\" class=\"bold\" style=\"padding-bottom: 30px;\">\n            For {{ doc.owner_site or doc.company }}\n        </td>\n    </tr>\n</table>\n\n<table width=\"100%\" style=\"margin-top: 25px;\">\n    <tr>\n        <td width=\"33%\" valign=\"top\">\n            <table width=\"90%\" align=\"center\">\n                <tr><td  style=\"border-top: 1px solid #000; text-align: center;\"><b>Prepared By</b></td></tr>\n                <tr>\n            <td class=\"text-center\" style=\"font-size: 9px;\">\n                {{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") or doc.owner }}\n            </td>\n        </tr>\n                <!--<tr><td class=\"text-center\" style=\"font-size: 9px;\">TR-01-LT [{{ doc.owner }}] [{{ doc.get_formatted(\"creation\") }}]</td></tr>-->\n            </table>\n        </td>\n        <td width=\"33%\" valign=\"top\">\n            <table width=\"90%\" align=\"center\">\n                <tr><td  style=\"border-top: 1px solid #000; text-align: center;\"><b>Checked By</b></td></tr>\n            </table>\n        </td>\n        <td width=\"33%\" valign=\"top\">\n            <table width=\"90%\" align=\"right\">\n                <tr><td  style=\"border-top: 1px solid #000; text-align: center ;\"><b>Passed By</b></td></tr>\n            </table>\n        </td>\n    </tr>\n</table>\n\n<!-- 6. FIXED FOOTER -->\n<table class=\"footer-table\">\n    <tr>\n        <td align=\"left\">Print Date: {{ frappe.utils.formatdate(frappe.utils.today(), \"dd-MM-yyyy\") }}</td>\n        <td align=\"right\">Page No.: 1</td>\n    </tr>\n</table>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-01-27 16:33:04.794895",
 "modified_by": "Administrator",
 "module": "Franchise Erp",
 "name": "Incomming Logistic PF",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}